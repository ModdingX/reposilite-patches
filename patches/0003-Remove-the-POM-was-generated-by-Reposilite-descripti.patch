From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: noeppi_noeppi <noeppinoeppi@gmail.com>
Date: Wed, 22 May 2024 22:10:09 +0200
Subject: [PATCH] Remove the 'POM was generated by Reposilite' description from
 generated POMs.


diff --git a/reposilite-backend/src/main/kotlin/com/reposilite/maven/MetadataService.kt b/reposilite-backend/src/main/kotlin/com/reposilite/maven/MetadataService.kt
index 9e9d40779e4a145433907da2a2eccefd53a816b1..c759a3f2290e733d3d219c75d1750503e1d83943 100644
--- a/reposilite-backend/src/main/kotlin/com/reposilite/maven/MetadataService.kt
+++ b/reposilite-backend/src/main/kotlin/com/reposilite/maven/MetadataService.kt
@@ -97,7 +97,6 @@ internal class MetadataService(private val repositorySecurityProvider: Repositor
                           <groupId>$groupId</groupId>
                           <artifactId>$artifactId</artifactId>
                           <version>$version</version>
-                          <description>POM was generated by Reposilite</description>
                         </project>
                         """.trimIndent().trim().byteInputStream()
                     )
diff --git a/reposilite-backend/src/test/kotlin/com/reposilite/maven/MavenFacadeTest.kt b/reposilite-backend/src/test/kotlin/com/reposilite/maven/MavenFacadeTest.kt
index e4309ef08b249934e1c99ed6f7c98c47df7766c0..d3fe6f0f0dcb002938dd37028c0d599d56ba6b25 100644
--- a/reposilite-backend/src/test/kotlin/com/reposilite/maven/MavenFacadeTest.kt
+++ b/reposilite-backend/src/test/kotlin/com/reposilite/maven/MavenFacadeTest.kt
@@ -346,7 +346,6 @@ internal class MavenFacadeTest : MavenSpecification() {
                   <groupId>com.dzikoysk</groupId>
                   <artifactId>reposilite</artifactId>
                   <version>3.0.1</version>
-                  <description>POM was generated by Reposilite</description>
                 </project>
                 """.trimIndent()
             )
@@ -362,6 +361,7 @@ internal class MavenFacadeTest : MavenSpecification() {
             assertThat(metadataBody).contains("<version>3.0.0</version>")
             assertThat(metadataBody).contains("<version>3.0.1</version>")
             assertThat(metadataBody).contains("<lastUpdated>" + ZonedDateTime.now().format(DateTimeFormatter.ofPattern("yyyyMM")))
+            assertThat(metadataBody).doesNotContain("\r\n")
         }
 
     }
